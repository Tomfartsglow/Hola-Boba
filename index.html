<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hola Boba Menu</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      font-family: 'Montserrat', sans-serif;
      height: 100%;
      background-color: #F5F5F5;
      color: #333;
      overflow-x: hidden;
    }

    body {
      position: relative;
    }

    /* Detection Banner */
    .detection-banner {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(45deg, #F8C300, #00B0B9);
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: bold;
      z-index: 1000;
      transform: translateY(-100%);
      transition: transform 0.3s ease;
    }

    .detection-banner.show {
      transform: translateY(0);
    }

    /* Order Options Modal */
    .order-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .order-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .order-modal-content {
      background: white;
      border-radius: 20px;
      padding: 2rem;
      max-width: 400px;
      width: 90%;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      transform: scale(0.8);
      transition: transform 0.3s ease;
    }

    .order-modal.show .order-modal-content {
      transform: scale(1);
    }

    .order-modal h3 {
      color: #00B0B9;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }

    .order-modal p {
      color: #666;
      margin-bottom: 2rem;
    }

    .order-options {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .order-option {
      background: linear-gradient(45deg, #F8C300, #e6b800);
      color: #000;
      padding: 1rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }

    .order-option:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(248, 195, 0, 0.4);
    }

    .order-option.delivery {
      background: linear-gradient(45deg, #00B0B9, #008a91);
      color: white;
    }

    .order-option.delivery:hover {
      box-shadow: 0 5px 15px rgba(0, 176, 185, 0.4);
    }

    .close-modal {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 24px;
      color: #999;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .close-modal:hover {
      color: #333;
    }

    .main-content {
      margin-top: 0;
      transition: margin-top 0.3s ease;
    }

    .main-content.with-banner {
      margin-top: 60px;
    }

    .slideshow {
      position: relative;
      height: 300px;
      overflow: hidden;
      margin-bottom: 2rem;
      border-radius: 20px;
    }

    .slideshow-container {
      display: flex;
      transition: transform 0.5s ease;
      height: 100%;
    }

    .slide {
      min-width: 100%;
      height: 100%;
      position: relative;
    }

    .slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .pagination-dots {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .dot.active {
      background-color: white;
    }

    .nav-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.3);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: white;
      font-size: 20px;
      backdrop-filter: blur(5px);
      transition: background-color 0.3s;
    }

    .nav-button:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    .prev-button {
      left: 10px;
    }

    .next-button {
      right: 10px;
    }

    .menu {
      background-color: #FFFFFF;
      padding: 2rem;
      border-radius: 20px;
      max-width: 800px;
      margin: 3rem auto;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      backdrop-filter: blur(6px);
      color: #333;
      animation: fadeInUp 1.2s ease-out;
    }

    @keyframes fadeInUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .logo-container {
      text-align: center;
      margin-bottom: 2rem;
    }

    .logo-container img {
      max-width: 150px;
      opacity: 0.85;
    }

    h1 {
      color: #F8C300;
      margin-bottom: 2rem;
      font-weight: 700;
      font-size: 2.5rem;
      text-align: center;
    }

    /* Category Selection */
    .category-selection {
      display: block;
    }

    .category-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .category-btn {
      background: linear-gradient(145deg, #F8C300, #e6b800);
      color: #000;
      border: none;
      padding: 2rem 1rem;
      border-radius: 20px;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 15px rgba(248, 195, 0, 0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .category-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 25px rgba(248, 195, 0, 0.4);
    }

    .category-btn i {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .category-btn.boba {
      background: linear-gradient(145deg, #00B0B9, #008a91);
      color: white;
      box-shadow: 0 8px 15px rgba(0, 176, 185, 0.3);
    }

    .category-btn.boba:hover {
      box-shadow: 0 15px 25px rgba(0, 176, 185, 0.4);
    }

    .category-btn.others {
      background: linear-gradient(145deg, #8e44ad, #732d91);
      color: white;
      box-shadow: 0 8px 15px rgba(142, 68, 173, 0.3);
    }

    .category-btn.others:hover {
      box-shadow: 0 15px 25px rgba(142, 68, 173, 0.4);
    }

    /* Category View */
    .category-view {
      display: none;
    }

    .back-btn {
      background: linear-gradient(145deg, #6c757d, #5a6268);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
    }

    .back-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
    }

    .category-title {
      color: #00B0B9;
      font-size: 2rem;
      margin-bottom: 2rem;
      text-align: center;
    }

    .menu-section {
      margin-bottom: 2rem;
    }

    .menu-section h3 {
      color: #F8C300;
      font-size: 1.3rem;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #F8C300;
    }

    .menu-items {
      display: grid;
      gap: 1rem;
    }

    .menu-item {
      background: #f8f9fa;
      padding: 1rem;
      border-radius: 12px;
      border-left: 4px solid #00B0B9;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .menu-item:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }

    .menu-item.selected {
      background: linear-gradient(145deg, #00B0B9, #008a91);
      color: white;
      border-left-color: #F8C300;
    }

    .menu-item-info {
      flex-grow: 1;
    }

    .menu-item-name {
      font-weight: bold;
      margin-bottom: 0.2rem;
    }

    .menu-item-price {
      color: #F8C300;
      font-weight: bold;
      font-size: 1.1rem;
    }

    .menu-item.selected .menu-item-price {
      color: #F8C300;
    }

    .selection-icon {
      font-size: 1.2rem;
      color: #28a745;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .menu-item.selected .selection-icon {
      opacity: 1;
      color: #F8C300;
    }

    /* Flavor Selection */
    .flavor-selection {
      margin-top: 2rem;
      padding: 1.5rem;
      background: linear-gradient(145deg, #f8f9fa, #e9ecef);
      border-radius: 15px;
      display: none;
    }

    .flavor-selection.show {
      display: block;
    }

    .flavor-title {
      color: #00B0B9;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .flavor-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 0.8rem;
    }

    .flavor-option {
      background: white;
      border: 2px solid #e9ecef;
      padding: 0.8rem;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .flavor-option:hover {
      border-color: #F8C300;
      background: #fff8e1;
    }

    .flavor-option.selected {
      background: linear-gradient(145deg, #F8C300, #e6b800);
      border-color: #F8C300;
      color: #000;
      font-weight: bold;
    }

    /* Order Summary */
    .order-summary {
      position: fixed;
      bottom: 20px;
      left: 20px;
      right: 20px;
      background: white;
      padding: 1.5rem;
      border-radius: 15px;
      box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.2);
      transform: translateY(100%);
      transition: transform 0.3s ease;
      z-index: 1000;
    }

    .order-summary.show {
      transform: translateY(0);
    }

    .order-summary-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .order-details {
      flex-grow: 1;
    }

    .order-item {
      font-weight: bold;
      color: #333;
    }

    .order-flavor {
      color: #666;
      font-size: 0.9rem;
    }

    .order-price {
      color: #F8C300;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .order-actions {
      display: flex;
      gap: 1rem;
    }

    .clear-btn {
      background: #dc3545;
      color: white;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s ease;
    }

    .clear-btn:hover {
      background: #c82333;
    }

    .order-btn {
      background: linear-gradient(145deg, #28a745, #218838);
      color: white;
      border: none;
      padding: 0.6rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .order-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
    }

    @media (max-width: 600px) {
      .menu {
        padding: 1rem;
        margin: 1.5rem;
      }
      
      .category-buttons {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      .category-btn {
        padding: 1.5rem 1rem;
        font-size: 1.1rem;
      }
      
      .order-summary-content {
        flex-direction: column;
        text-align: center;
      }
      
      .order-actions {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="detection-banner" id="detectionBanner">
    <span id="detectionText">üîç Detecting access method...</span>
  </div>

  <!-- Order Options Modal -->
  <div class="order-modal" id="orderModal">
    <div class="order-modal-content">
      <button class="close-modal" id="closeModal">&times;</button>
      <h3>üõçÔ∏è How would you like to order?</h3>
      <p>Choose your preferred option to get your Hola Boba favorites!</p>
      <div class="order-options">
        <button class="order-option pickup" id="pickupOption">
          <i class="fas fa-store"></i>
          Order for Pickup
        </button>
        <button class="order-option delivery" id="deliveryOption">
          <i class="fas fa-motorcycle"></i>
          Order for Delivery
        </button>
      </div>
    </div>
  </div>

  <div class="main-content" id="mainContent">
    <div class="menu">
      <div class="slideshow">
        <div class="slideshow-container">
          <div class="slide">
            <img src="Screenshot_20250524_210435_Instagram[1].jpg" alt="Hola Boba 1">
          </div>
          <div class="slide">
            <img src="Screenshot_20250524_210511_Instagram[1].jpg" alt="Hola Boba 2">
          </div>
          <div class="slide">
            <img src="Screenshot_20250524_210523_Instagram[1].jpg" alt="Hola Boba 3">
          </div>
          <div class="slide">
            <img src="Screenshot_20250524_210618_Instagram[1].jpg" alt="Hola Boba 4">
          </div>
        </div>
        <div class="pagination-dots"></div>
        <button class="nav-button prev-button">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button class="nav-button next-button">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>

      <div class="logo-container">
        <img src="logo.jpeg" alt="Hola Boba Logo" />
      </div>
      <h1>Hola Boba Menu</h1>

      <!-- Category Selection -->
      <div class="category-selection" id="categorySelection">
        <div class="category-buttons">
          <button class="category-btn icecream" data-category="icecream">
            <i class="fas fa-ice-cream"></i>
            <span>Ice Cream</span>
            <small>Bubble Waffles & Treats</small>
          </button>
          <button class="category-btn boba" data-category="boba">
            <i class="fas fa-glass-water"></i>
            <span>Boba & Drinks</span>
            <small>Teas, Smoothies & Frappes</small>
          </button>
          <button class="category-btn others" data-category="others">
            <i class="fas fa-ellipsis-h"></i>
            <span>Others</span>
            <small>Coffee & Extras</small>
          </button>
        </div>
      </div>

      <!-- Category Views -->
      <div class="category-view" id="icecreamView">
        <button class="back-btn" data-back="category">
          <i class="fas fa-arrow-left"></i>
          Back to Categories
        </button>
        <h2 class="category-title">üç¶ Ice Cream & Treats</h2>
        
        <div class="menu-section">
          <h3>Bubble Waffles</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="bubble-waffle" data-price="2000" data-has-flavors="true">
              <div class="menu-item-info">
                <div class="menu-item-name">Bubble Waffle</div>
              </div>
              <div class="menu-item-price">‚Ç°2.000</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="menu-section">
          <h3>Add-ons</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="ice-cream-addon" data-price="500">
              <div class="menu-item-info">
                <div class="menu-item-name">Add Ice Cream</div>
              </div>
              <div class="menu-item-price">+‚Ç°500</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
            <div class="menu-item" data-item="strawberries-addon" data-price="200">
              <div class="menu-item-info">
                <div class="menu-item-name">Add Strawberries</div>
              </div>
              <div class="menu-item-price">+‚Ç°200</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
        </div>

        <div class="flavor-selection" id="icecreamFlavors">
          <h4 class="flavor-title">Choose your waffle flavor:</h4>
          <div class="flavor-options">
            <div class="flavor-option" data-flavor="original">Original</div>
            <div class="flavor-option" data-flavor="chocolate">Chocolate</div>
            <div class="flavor-option" data-flavor="vanilla">Vanilla</div>
          </div>
        </div>
      </div>

      <div class="category-view" id="bobaView">
        <button class="back-btn" data-back="category">
          <i class="fas fa-arrow-left"></i>
          Back to Categories
        </button>
        <h2 class="category-title">üßã Boba & Drinks</h2>
        
        <div class="menu-section">
          <h3>Green Tea Refreshers</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="green-tea-refresher" data-price="2000" data-has-flavors="true">
              <div class="menu-item-info">
                <div class="menu-item-name">Green Tea Refresher</div>
              </div>
              <div class="menu-item-price">‚Ç°2.000</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
          <div class="flavor-selection" id="greenTeaFlavors">
            <h4 class="flavor-title">Choose your flavor:</h4>
            <div class="flavor-options">
              <div class="flavor-option" data-flavor="strawberry-lemonade">Strawberry Lemonade</div>
              <div class="flavor-option" data-flavor="passionfruit">Passionfruit</div>
              <div class="flavor-option" data-flavor="lemonade">Lemonade</div>
              <div class="flavor-option" data-flavor="strawberry-orange">Strawberry Orange</div>
              <div class="flavor-option" data-flavor="raspberry">Raspberry</div>
            </div>
          </div>
        </div>

        <div class="menu-section">
          <h3>Milk Tea</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="milk-tea" data-price="2500" data-has-flavors="true">
              <div class="menu-item-info">
                <div class="menu-item-name">Milk Tea</div>
              </div>
              <div class="menu-item-price">‚Ç°2.500</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
          <div class="flavor-selection" id="milkTeaFlavors">
            <h4 class="flavor-title">Choose your flavor:</h4>
            <div class="flavor-options">
              <div class="flavor-option" data-flavor="original-black">Original Black Tea</div>
              <div class="flavor-option" data-flavor="vanilla">Vanilla</div>
              <div class="flavor-option" data-flavor="caramel">Caramel</div>
              <div class="flavor-option" data-flavor="matcha">Matcha</div>
              <div class="flavor-option" data-flavor="taro">Taro</div>
              <div class="flavor-option" data-flavor="oolong">Oolong</div>
              <div class="flavor-option" data-flavor="thai-tea">Thai Tea</div>
              <div class="flavor-option" data-flavor="jasmine-green">Jasmine Green Tea</div>
            </div>
          </div>
        </div>

        <div class="menu-section">
          <h3>Natural Smoothies</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="smoothie" data-price="2300" data-has-flavors="true">
              <div class="menu-item-info">
                <div class="menu-item-name">Natural Smoothie</div>
              </div>
              <div class="menu-item-price">‚Ç°2.300</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
          <div class="flavor-selection" id="smoothieFlavors">
            <h4 class="flavor-title">Choose your flavor:</h4>
            <div class="flavor-options">
              <div class="flavor-option" data-flavor="mango">Mango</div>
              <div class="flavor-option" data-flavor="strawberry">Strawberry</div>
              <div class="flavor-option" data-flavor="banana-cacao">Banana Cacao</div>
              <div class="flavor-option" data-flavor="blueberry-banana">Blueberry Banana</div>
              <div class="flavor-option" data-flavor="strawberry-banana">Strawberry Banana</div>
            </div>
          </div>
        </div>

        <div class="menu-section">
          <h3>Frappes in Milk</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="frappe" data-price="2800" data-has-flavors="true">
              <div class="menu-item-info">
                <div class="menu-item-name">Frappe in Milk</div>
              </div>
              <div class="menu-item-price">‚Ç°2.800</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
          <div class="flavor-selection" id="frappeFlavors">
            <h4 class="flavor-title">Choose your flavor:</h4>
            <div class="flavor-options">
              <div class="flavor-option" data-flavor="matcha">Matcha</div>
              <div class="flavor-option" data-flavor="taro">Taro</div>
              <div class="flavor-option" data-flavor="thai-tea">Thai Tea</div>
              <div class="flavor-option" data-flavor="mocha">Mocha</div>
              <div class="flavor-option" data-flavor="chocolate">Chocolate</div>
            </div>
          </div>
        </div>

        <div class="menu-section">
          <h3>Extras</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="tapioca" data-price="300">
              <div class="menu-item-info">
                <div class="menu-item-name">Tapioca Pearls</div>
              </div>
              <div class="menu-item-price">+‚Ç°300</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
            <div class="menu-item" data-item="popping-pearls" data-price="500">
              <div class="menu-item-info">
                <div class="menu-item-name">Popping Pearls</div>
              </div>
              <div class="menu-item-price">+‚Ç°500</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
            <div class="menu-item" data-item="vegan-milk" data-price="300">
              <div class="menu-item-info">
                <div class="menu-item-name">Vegan Coconut Milk</div>
              </div>
              <div class="menu-item-price">+‚Ç°300</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="category-view" id="othersView">
        <button class="back-btn" data-back="category">
          <i class="fas fa-arrow-left"></i>
          Back to Categories
        </button>
        <h2 class="category-title">‚òï Others</h2>
        
        <div class="menu-section">
          <h3>Coffee Specialties</h3>
          <div class="menu-items">
            <div class="menu-item" data-item="brown-sugar-latte" data-price="2500">
              <div class="menu-item-info">
                <div class="menu-item-name">Brown Sugar Latte</div>
              </div>
              <div class="menu-item-price">‚Ç°2.500</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
            <div class="menu-item" data-item="vietnamese-coffee" data-price="2300">
              <div class="menu-item-info">
                <div class="menu-item-name">Vietnamese Coffee</div>
              </div>
              <div class="menu-item-price">‚Ç°2.300</div>
              <div class="selection-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Social Media & Locations -->
      <div class="category-view" id="infoView" style="display: none;">
        <button class="back-btn" data-back="category">
          <i class="fas fa-arrow-left"></i>
          Back to Categories
        </button>
        
        <section>
          <h2>üì£ Follow Us!</h2>
          <div class="buttons">
            <a href="https://www.instagram.com/holaboba.cr" target="_blank">
              <i class="fab fa-instagram"></i> Instagram
            </a>
            <a href="https://www.tiktok.com/@holabobacostarica" target="_blank">
              <i class="fab fa-tiktok"></i> TikTok
            </a>
          </div>
        </section>

        <section>
          <h2>üìç Our Locations</h2>
          <div class="buttons">
            <a href="https://maps.app.goo.gl/Ffj3mfjYMpLmars69" target="_blank">
              <i class="fas fa-map-marker-alt"></i> Puerto Viejo
            </a>
            <a href="https://maps.app.goo.gl/Q38DmC2MvvCztayK7" target="_blank">
              <i class="fas fa-map-marker-alt"></i> Cocles
            </a>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Order Summary -->
  <div class="order-summary" id="orderSummary">
    <div class="order-summary-content">
      <div class="order-details">
        <div class="order-item" id="orderItem">No item selected</div>
        <div class="order-flavor" id="orderFlavor"></div>
      </div>
      <div class="order-price" id="orderPrice">‚Ç°0</div>
      <div class="order-actions">
        <button class="clear-btn" id="clearOrder">Clear</button>
        <button class="order-btn" id="placeOrder">Order Now</button>
      </div>
    </div>
  </div>

  <script>
    // NFC/Code Detection System (keeping original detection code)
    class AccessDetection {
      constructor() {
        this.detectionMethods = [];
        this.result = null;
        this.confidence = 0;
        this.init();
      }

      init() {
        this.detectAccessMethod();
        this.showDetectionResult();
      }

      detectAccessMethod() {
        const detectionFactors = {
          hasReferrer: this.checkReferrer(),
          userAgent: this.analyzeUserAgent(),
          navigationTiming: this.checkNavigationTiming(),
          touchCapability: this.checkTouchCapability(),
          urlParameters: this.checkURLParameters(),
          documentReadyState: this.checkDocumentState(),
          focusEvents: this.checkFocusEvents()
        };

        this.calculateResult(detectionFactors);
      }

      checkReferrer() {
        const referrer = document.referrer;
        if (!referrer || referrer === '') {
          this.detectionMethods.push('No referrer (could be NFC, manual typing, or bookmark)');
          return { isNFC: null, confidence: 0.3 };
        } else {
          this.detectionMethods.push(`Referrer found: ${referrer} (likely from another website)`);
          return { isNFC: false, confidence: 0.6 };
        }
      }

      analyzeUserAgent() {
        const ua = navigator.userAgent;
        const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);
        
        if (isMobile) {
          this.detectionMethods.push('Mobile device detected (supports NFC)');
          return { isNFC: null, confidence: 0.3 };
        } else {
          this.detectionMethods.push('Desktop device detected (likely programmatic)');
          return { isNFC: false, confidence: 0.6 };
        }
      }

      checkNavigationTiming() {
        if (performance && performance.navigation) {
          const navType = performance.navigation.type;
          
          if (navType === 0) {
            this.detectionMethods.push('Direct navigation (could be manual typing, NFC, or bookmark)');
            return { isNFC: null, confidence: 0.2 };
          } else if (navType === 1) {
            this.detectionMethods.push('Page reload (manual action)');
            return { isNFC: false, confidence: 0.7 };
          } else if (navType === 2) {
            this.detectionMethods.push('Back/forward navigation (manual browser action)');
            return { isNFC: false, confidence: 0.8 };
          }
        }
        return { isNFC: null, confidence: 0 };
      }

      checkTouchCapability() {
        const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
        if (hasTouch) {
          this.detectionMethods.push('Touch capability detected');
          return { isNFC: null, confidence: 0.2 };
        }
        return { isNFC: false, confidence: 0.3 };
      }

      checkURLParameters() {
        const urlParams = new URLSearchParams(window.location.search);
        const hasNFCParam = urlParams.has('nfc') || urlParams.has('source');
        
        if (hasNFCParam) {
          this.detectionMethods.push('NFC parameter detected in URL');
          return { isNFC: true, confidence: 0.9 };
        }
        
        if (urlParams.toString() === '') {
          this.detectionMethods.push('No URL parameters (could indicate NFC)');
          return { isNFC: true, confidence: 0.4 };
        }
        
        return { isNFC: null, confidence: 0 };
      }

      checkDocumentState() {
        const loadTime = performance.now();
        if (loadTime < 100) {
          this.detectionMethods.push('Very fast load time (possible programmatic)');
          return { isNFC: false, confidence: 0.4 };
        }
        return { isNFC: null, confidence: 0 };
      }

      checkFocusEvents() {
        let focusDetected = false;
        
        window.addEventListener('focus', () => {
          focusDetected = true;
        });
        
        setTimeout(() => {
          if (!focusDetected && document.hasFocus()) {
            this.detectionMethods.push('No focus event but document focused (NFC likely)');
            return { isNFC: true, confidence: 0.6 };
          }
        }, 1000);
        
        return { isNFC: null, confidence: 0 };
      }

      calculateResult(factors) {
        let nfcScore = 0;
        let codeScore = 0;
        let manualScore = 0;
        let totalConfidence = 0;

        Object.values(factors).forEach(factor => {
          if (factor.isNFC === true) {
            nfcScore += factor.confidence;
          } else if (factor.isNFC === false) {
            codeScore += factor.confidence;
          }
          totalConfidence += factor.confidence;
        });

        const isDirectTyping = this.checkDirectTyping();
        if (isDirectTyping.isManual) {
          manualScore = isDirectTyping.confidence;
          totalConfidence += manualScore;
        }

        if (totalConfidence > 0) {
          nfcScore = nfcScore / totalConfidence;
          codeScore = codeScore / totalConfidence;
          manualScore = manualScore / totalConfidence;
        }

        if (manualScore > Math.max(nfcScore, codeScore)) {
          this.result = 'MANUAL';
          this.confidence = Math.round(manualScore * 100);
        } else if (nfcScore > codeScore) {
          this.result = 'NFC';
          this.confidence = Math.round(nfcScore * 100);
        } else if (codeScore > nfcScore) {
          this.result = 'CODE';
          this.confidence = Math.round(codeScore * 100);
        } else {
          this.result = 'UNKNOWN';
          this.confidence = 50;
        }

        console.log('üîç Access Detection Results:');
        console.log('Detection Methods:', this.detectionMethods);
        console.log('Final Result:', this.result);
        console.log('Confidence:', this.confidence + '%');
      }

      checkDirectTyping() {
        const indicators = [];
        let confidence = 0;

        if (!document.referrer && 
            performance.navigation && 
            performance.navigation.type === 0 &&
            !/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
          indicators.push('Desktop with no referrer and direct navigation');
          confidence += 0.7;
        }

        if (window.location.search === '' && window.location.hash === '') {
          indicators.push('Clean URL with no parameters');
          confidence += 0.6;
        }

        if (!/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
          indicators.push('Desktop device (users more likely to type URLs)');
          confidence += 0.4;
        }

        if (document.activeElement === document.body || document.activeElement === null) {
          indicators.push('No specific element focused');
          confidence += 0.3;
        }

        const url = window.location.href;
        const isSimpleUrl = url.split('/').length <= 4 && !url.includes('?') && !url.includes('#');
        if (isSimpleUrl) {
          indicators.push('Simple, memorable URL structure');
          confidence += 0.4;
        }

        if (indicators.length >= 3) {
          confidence *= 1.2;
        }

        if (indicators.length > 0) {
          this.detectionMethods.push(`Manual typing indicators: ${indicators.join(', ')}`);
          return { isManual: true, confidence: Math.min(confidence, 1.0) };
        }

        return { isManual: false, confidence: 0 };
      }

      showDetectionResult() {
        const banner = document.getElementById('detectionBanner');
        const text = document.getElementById('detectionText');
        const mainContent = document.getElementById('mainContent');
        const orderModal = document.getElementById('orderModal');

        let message = '';
        let icon = '';

        switch (this.result) {
          case 'NFC':
            icon = 'üì±';
            message = `${icon} Opened via NFC Tag (${this.confidence}% confidence)`;
            break;
          case 'CODE':
            icon = 'üíª';
            message = `${icon} Opened via Code/Browser (${this.confidence}% confidence)`;
            break;
          case 'MANUAL':
            icon = '‚å®Ô∏è';
            message = `${icon} URL typed manually (${this.confidence}% confidence)`;
            break;
          default:
            icon = '‚ùì';
            message = `${icon} Access method unknown (${this.confidence}% confidence)`;
        }

        text.textContent = message;
        
        setTimeout(() => {
          banner.classList.add('show');
          mainContent.classList.add('with-banner');
        }, 500);

        if (this.result === 'MANUAL') {
          setTimeout(() => {
            orderModal.classList.add('show');
          }, 2000);
        }

        const bannerTimeout = this.result === 'MANUAL' ? 8000 : 5500;
        setTimeout(() => {
          banner.classList.remove('show');
          mainContent.classList.remove('with-banner');
        }, bannerTimeout);

        this.handleDetectionResult();
      }

      handleDetectionResult() {
        const data = {
          method: this.result,
          confidence: this.confidence,
          timestamp: new Date().toISOString(),
          userAgent: navigator.userAgent,
          referrer: document.referrer,
          url: window.location.href
        };

        if (this.result === 'NFC') {
          console.log('üëã Welcome NFC user!');
        } else if (this.result === 'CODE') {
          console.log('ü§ñ Programmatic access detected');
        } else if (this.result === 'MANUAL') {
          console.log('‚å®Ô∏è Manual URL typing detected - showing order options');
        }
      }
    }

    // Menu System
    class MenuSystem {
      constructor() {
        this.currentOrder = {
          item: null,
          flavor: null,
          price: 0,
          extras: []
        };
        this.init();
      }

      init() {
        this.setupEventListeners();
      }

      setupEventListeners() {
        // Category buttons
        document.querySelectorAll('.category-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const category = e.currentTarget.dataset.category;
            this.showCategory(category);
          });
        });

        // Back buttons
        document.querySelectorAll('.back-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const backTo = e.currentTarget.dataset.back;
            if (backTo === 'category') {
              this.showCategorySelection();
            }
          });
        });

        // Menu items
        document.querySelectorAll('.menu-item').forEach(item => {
          item.addEventListener('click', (e) => {
            this.selectMenuItem(e.currentTarget);
          });
        });

        // Flavor options
        document.querySelectorAll('.flavor-option').forEach(option => {
          option.addEventListener('click', (e) => {
            this.selectFlavor(e.currentTarget);
          });
        });

        // Order actions
        document.getElementById('clearOrder').addEventListener('click', () => {
          this.clearOrder();
        });

        document.getElementById('placeOrder').addEventListener('click', () => {
          this.placeOrder();
        });
      }

      showCategory(category) {
        // Hide category selection
        document.getElementById('categorySelection').style.display = 'none';
        
        // Hide all category views
        document.querySelectorAll('.category-view').forEach(view => {
          view.style.display = 'none';
        });

        // Show selected category
        const viewId = category + 'View';
        const view = document.getElementById(viewId);
        if (view) {
          view.style.display = 'block';
        }
      }

      showCategorySelection() {
        // Hide all category views
        document.querySelectorAll('.category-view').forEach(view => {
          view.style.display = 'none';
        });
        
        // Show category selection
        document.getElementById('categorySelection').style.display = 'block';
        
        // Hide order summary
        document.getElementById('orderSummary').classList.remove('show');
        
        // Clear current order
        this.clearOrder();
      }

      selectMenuItem(itemElement) {
        // Remove selection from all items in current view
        const currentView = itemElement.closest('.category-view');
        currentView.querySelectorAll('.menu-item').forEach(item => {
          item.classList.remove('selected');
        });

        // Select current item
        itemElement.classList.add('selected');

        // Get item data
        const itemName = itemElement.querySelector('.menu-item-name').textContent;
        const itemPrice = parseInt(itemElement.dataset.price);
        const hasflavors = itemElement.dataset.hasFlavors === 'true';

        // Update order
        this.currentOrder.item = itemName;
        this.currentOrder.price = itemPrice;
        this.currentOrder.flavor = null;

        // Show/hide flavor selection
        if (hasflavors) {
          const flavorSelections = currentView.querySelectorAll('.flavor-selection');
          flavorSelections.forEach(selection => selection.classList.remove('show'));
          
          // Find the corresponding flavor selection
          const itemType = itemElement.dataset.item;
          let flavorSectionId = '';
          
          switch(itemType) {
            case 'green-tea-refresher':
              flavorSectionId = 'greenTeaFlavors';
              break;
            case 'milk-tea':
              flavorSectionId = 'milkTeaFlavors';
              break;
            case 'smoothie':
              flavorSectionId = 'smoothieFlavors';
              break;
            case 'frappe':
              flavorSectionId = 'frappeFlavors';
              break;
            case 'bubble-waffle':
              flavorSectionId = 'icecreamFlavors';
              break;
          }
          
          if (flavorSectionId) {
            const flavorSection = document.getElementById(flavorSectionId);
            if (flavorSection) {
              flavorSection.classList.add('show');
              // Clear previous flavor selections
              flavorSection.querySelectorAll('.flavor-option').forEach(option => {
                option.classList.remove('selected');
              });
            }
          }
        } else {
          // Update order summary immediately for items without flavors
          this.updateOrderSummary();
        }
      }

      selectFlavor(flavorElement) {
        // Remove selection from all flavors in current section
        const flavorSection = flavorElement.closest('.flavor-selection');
        flavorSection.querySelectorAll('.flavor-option').forEach(option => {
          option.classList.remove('selected');
        });

        // Select current flavor
        flavorElement.classList.add('selected');

        // Update order
        this.currentOrder.flavor = flavorElement.dataset.flavor;

        // Update order summary
        this.updateOrderSummary();
      }

      updateOrderSummary() {
        if (!this.currentOrder.item) return;

        const orderSummary = document.getElementById('orderSummary');
        const orderItem = document.getElementById('orderItem');
        const orderFlavor = document.getElementById('orderFlavor');
        const orderPrice = document.getElementById('orderPrice');

        orderItem.textContent = this.currentOrder.item;
        
        if (this.currentOrder.flavor) {
          orderFlavor.textContent = `Flavor: ${this.currentOrder.flavor.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}`;
          orderFlavor.style.display = 'block';
        } else {
          orderFlavor.style.display = 'none';
        }

        orderPrice.textContent = `‚Ç°${this.currentOrder.price.toLocaleString()}`;

        orderSummary.classList.add('show');
      }

      clearOrder() {
        this.currentOrder = {
          item: null,
          flavor: null,
          price: 0,
          extras: []
        };

        // Remove all selections
        document.querySelectorAll('.menu-item').forEach(item => {
          item.classList.remove('selected');
        });

        document.querySelectorAll('.flavor-option').forEach(option => {
          option.classList.remove('selected');
        });

        document.querySelectorAll('.flavor-selection').forEach(selection => {
          selection.classList.remove('show');
        });

        // Hide order summary
        document.getElementById('orderSummary').classList.remove('show');
      }

      placeOrder() {
        if (!this.currentOrder.item) {
          alert('Please select an item first!');
          return;
        }

        // Check if item requires flavor and no flavor is selected
        const selectedItem = document.querySelector('.menu-item.selected');
        const requiresFlavor = selectedItem?.dataset.hasFlavors === 'true';
        
        if (requiresFlavor && !this.currentOrder.flavor) {
          alert('Please select a flavor for your item!');
          return;
        }

        // Create order summary
        let orderText = `üõçÔ∏è Your Order:\n\n`;
        orderText += `${this.currentOrder.item}`;
        if (this.currentOrder.flavor) {
          orderText += `\nFlavor: ${this.currentOrder.flavor.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}`;
        }
        orderText += `\nPrice: ‚Ç°${this.currentOrder.price.toLocaleString()}`;
        orderText += `\n\nüìç Visit us at:\n‚Ä¢ Puerto Viejo\n‚Ä¢ Cocles\n\nThank you for choosing Hola Boba! üßã`;

        alert(orderText);
        
        // Clear order after placing
        this.clearOrder();
      }
    }

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize detection system
      const detection = new AccessDetection();

      // Initialize menu system
      const menuSystem = new MenuSystem();

      // Order modal functionality
      const orderModal = document.getElementById('orderModal');
      const closeModal = document.getElementById('closeModal');
      const pickupOption = document.getElementById('pickupOption');
      const deliveryOption = document.getElementById('deliveryOption');

      // Close modal handlers
      closeModal.addEventListener('click', () => {
        orderModal.classList.remove('show');
      });

      orderModal.addEventListener('click', (e) => {
        if (e.target === orderModal) {
          orderModal.classList.remove('show');
        }
      });

      // Order option handlers
      pickupOption.addEventListener('click', () => {
        console.log('üè™ Pickup order selected');
        alert('üè™ Great! Visit us at one of our locations:\n\nüìç Puerto Viejo\nüìç Cocles\n\nCheck our locations section below for directions!');
        orderModal.classList.remove('show');
      });

      deliveryOption.addEventListener('click', () => {
        console.log('üöö Delivery order selected');
        alert('üöö Delivery coming soon!\n\nFor now, please visit us at one of our locations for pickup. We\'re working on delivery options!');
        orderModal.classList.remove('show');
      });

      // Close modal with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && orderModal.classList.contains('show')) {
          orderModal.classList.remove('show');
        }
      });

      // Original slideshow code
      const slideshow = document.querySelector('.slideshow-container');
      const slides = document.querySelectorAll('.slide');
      const dotsContainer = document.querySelector('.pagination-dots');
      const prevButton = document.querySelector('.prev-button');
      const nextButton = document.querySelector('.next-button');
      
      let currentSlide = 0;
      let startX = 0;
      let currentX = 0;
      let isDragging = false;

      // Create pagination dots
      slides.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.classList.add('dot');
        if (index === 0) dot.classList.add('active');
        dot.addEventListener('click', () => goToSlide(index));
        dotsContainer.appendChild(dot);
      });

      function updateDots() {
        document.querySelectorAll('.dot').forEach((dot, index) => {
          dot.classList.toggle('active', index === currentSlide);
        });
      }

      function goToSlide(index) {
        currentSlide = index;
        slideshow.style.transform = `translateX(-${currentSlide * 100}%)`;
        updateDots();
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        goToSlide(currentSlide);
      }

      function prevSlide() {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        goToSlide(currentSlide);
      }

      // Touch and mouse events
      slideshow.addEventListener('mousedown', startDragging);
      slideshow.addEventListener('touchstart', startDragging);
      window.addEventListener('mousemove', drag);
      window.addEventListener('touchmove', drag);
      window.addEventListener('mouseup', stopDragging);
      window.addEventListener('touchend', stopDragging);

      function startDragging(e) {
        isDragging = true;
        startX = e.type === 'mousedown' ? e.pageX : e.touches[0].pageX;
        currentX = -currentSlide * 100;
      }

      function drag(e) {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.type === 'mousemove' ? e.pageX : e.touches[0].pageX;
        const walk = (x - startX) / slideshow.offsetWidth * 100;
        slideshow.style.transform = `translateX(${currentX + walk}%)`;
      }

      function stopDragging(e) {
        if (!isDragging) return;
        isDragging = false;
        const x = e.type === 'mouseup' ? e.pageX : e.changedTouches[0].pageX;
        const walk = (x - startX) / slideshow.offsetWidth * 100;
        
        if (Math.abs(walk) > 20) {
          if (walk > 0) prevSlide();
          else nextSlide();
        } else {
          goToSlide(currentSlide);
        }
      }

      // Button controls
      prevButton.addEventListener('click', prevSlide);
      nextButton.addEventListener('click', nextSlide);

      // Auto-advance slides
      setInterval(nextSlide, 5000);
    });
  </script>
</body>
</html>
